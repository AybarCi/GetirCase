{"ast":null,"code":"import _slicedToArray from \"/Users/Petito/ReactNativeProjects/GetirCase/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/Petito/ReactNativeProjects/GetirCase/src/views/dashboard/Home.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\n/* eslint-disable array-callback-return */\nimport React, { useEffect, useState } from \"react\";\nimport { CContainer, CCol, CRow, CButtonGroup, CCard, CCardBody } from \"@coreui/react\";\nimport { FormControlLabel, RadioGroup, Radio, Button, ButtonGroup, Typography } from '@mui/material';\nimport * as productActions from \"../../store/actions/product.actions\";\nimport * as companyActions from \"../../store/actions/company.actions\";\nimport { connect } from \"react-redux\";\nimport ProductList from \"../../components/ProductList\";\nimport BrandCheckList from '../../components/BrandCheckList';\nimport TagCheckList from \"../../components/TagCheckList\";\nimport linq from 'linq';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar Home = function Home(props) {\n  _s();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoaded = _useState2[0],\n      setIsLoaded = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      products = _useState4[0],\n      setProducts = _useState4[1];\n\n  function handleItemTypeChanged(event, text) {\n    var newList = [];\n\n    if (text === \"all\") {\n      newList = linq.from(JSON.parse(localStorage.getItem(\"@products\"))).toArray();\n    } else {\n      newList = linq.from(JSON.parse(localStorage.getItem(\"@products\"))).where(function (element) {\n        return element.itemType === text;\n      }).toArray();\n    }\n\n    props.onRefreshUsageProducts(newList);\n  }\n\n  function handleSortingChanged(event, text) {\n    //let storageProductList = [];\n    var newList = [];\n\n    if (text === \"lowtohigh\") {\n      newList = linq.from(products).orderBy(function (element) {\n        return element.price;\n      }).toArray();\n    } else if (text === \"hightolow\") {\n      newList = linq.from(products).orderByDescending(function (element) {\n        return element.price;\n      }).toArray();\n    } else if (text === \"newtoold\") {\n      newList = linq.from(products).orderByDescending(function (element) {\n        return element.added;\n      }).toArray();\n    } else if (text === \"oldtonew\") {\n      newList = linq.from(products).orderBy(function (element) {\n        return element.added;\n      }).toArray();\n    }\n\n    props.onRefreshUsageProducts(newList);\n  }\n\n  useEffect(function () {\n    if (!isLoaded) {\n      props.onGetProducts();\n      setIsLoaded(true);\n    }\n\n    if (props.refresh === true) {\n      setProducts(props.products);\n    }\n\n    if (props.loaded === true) {\n      setProducts(props.products);\n    }\n  }, [isLoaded, props]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(CContainer, {\n      children: /*#__PURE__*/_jsxDEV(CRow, {\n        children: [/*#__PURE__*/_jsxDEV(CCol, {\n          md: \"3\",\n          children: [/*#__PURE__*/_jsxDEV(CRow, {\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              component: \"h2\",\n              children: \"Sorting\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 13\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 11\n          }, _this), /*#__PURE__*/_jsxDEV(CRow, {\n            children: /*#__PURE__*/_jsxDEV(CCard, {\n              style: {\n                width: '18rem'\n              },\n              children: /*#__PURE__*/_jsxDEV(CCardBody, {\n                children: /*#__PURE__*/_jsxDEV(RadioGroup, {\n                  row: true,\n                  \"aria-label\": \"sorting\",\n                  name: \"row-radio-buttons-group\",\n                  children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n                    id: \"lowtohigh\",\n                    onClick: function onClick(e) {\n                      return handleSortingChanged(e, \"lowtohigh\");\n                    },\n                    value: \"lowtohigh\",\n                    control: /*#__PURE__*/_jsxDEV(Radio, {\n                      color: \"secondary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 69,\n                      columnNumber: 135\n                    }, _this),\n                    label: \"Price low to high\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 69,\n                    columnNumber: 21\n                  }, _this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                    id: \"hightolow\",\n                    onClick: function onClick(e) {\n                      return handleSortingChanged(e, \"hightolow\");\n                    },\n                    value: \"hightolow\",\n                    control: /*#__PURE__*/_jsxDEV(Radio, {\n                      color: \"secondary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 70,\n                      columnNumber: 135\n                    }, _this),\n                    label: \"Price high to low\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 70,\n                    columnNumber: 21\n                  }, _this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                    id: \"newtoold\",\n                    onClick: function onClick(e) {\n                      return handleSortingChanged(e, \"newtoold\");\n                    },\n                    value: \"newtoold\",\n                    control: /*#__PURE__*/_jsxDEV(Radio, {\n                      color: \"secondary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 71,\n                      columnNumber: 132\n                    }, _this),\n                    label: \"New to old\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 71,\n                    columnNumber: 21\n                  }, _this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                    id: \"oldtonew\",\n                    onClick: function onClick(e) {\n                      return handleSortingChanged(e, \"oldtonew\");\n                    },\n                    value: \"oldtonew\",\n                    control: /*#__PURE__*/_jsxDEV(Radio, {\n                      color: \"secondary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 72,\n                      columnNumber: 132\n                    }, _this),\n                    label: \"Old to new\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 21\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 13\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 11\n          }, _this), /*#__PURE__*/_jsxDEV(CRow, {\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              component: \"h2\",\n              children: \"Brands\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 13\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 11\n          }, _this), /*#__PURE__*/_jsxDEV(CRow, {\n            children: /*#__PURE__*/_jsxDEV(CCard, {\n              style: {\n                width: '18rem'\n              },\n              children: /*#__PURE__*/_jsxDEV(CCardBody, {\n                children: /*#__PURE__*/_jsxDEV(BrandCheckList, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 13\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 11\n          }, _this), /*#__PURE__*/_jsxDEV(CRow, {\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h5\",\n              component: \"h2\",\n              children: \"Tags\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 13\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 11\n          }, _this), /*#__PURE__*/_jsxDEV(CRow, {\n            children: /*#__PURE__*/_jsxDEV(CCard, {\n              style: {\n                width: '18rem'\n              },\n              children: /*#__PURE__*/_jsxDEV(CCardBody, {\n                children: /*#__PURE__*/_jsxDEV(TagCheckList, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 13\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 11\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(CCol, {\n          lg: \"9\",\n          children: /*#__PURE__*/_jsxDEV(CRow, {\n            children: [/*#__PURE__*/_jsxDEV(CRow, {\n              children: /*#__PURE__*/_jsxDEV(CCol, {\n                children: [/*#__PURE__*/_jsxDEV(CRow, {\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"h4\",\n                    component: \"h2\",\n                    children: \"Products\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 19\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 17\n                }, _this), /*#__PURE__*/_jsxDEV(CRow, {\n                  className: \"py-3 justify-content-between\",\n                  children: /*#__PURE__*/_jsxDEV(CButtonGroup, {\n                    children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n                      variant: \"outlined\",\n                      color: \"secondary\",\n                      \"aria-label\": \"outlined button group\",\n                      children: [/*#__PURE__*/_jsxDEV(Button, {\n                        onClick: function onClick(e) {\n                          return handleItemTypeChanged(e, \"mug\");\n                        },\n                        children: \"Mug\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 23\n                      }, _this), /*#__PURE__*/_jsxDEV(Button, {\n                        onClick: function onClick(e) {\n                          return handleItemTypeChanged(e, \"shirt\");\n                        },\n                        children: \"Shirt\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 115,\n                        columnNumber: 23\n                      }, _this), /*#__PURE__*/_jsxDEV(Button, {\n                        onClick: function onClick(e) {\n                          return handleItemTypeChanged(e, \"all\");\n                        },\n                        children: \"All\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 116,\n                        columnNumber: 23\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 21\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 19\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 17\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 15\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 13\n            }, _this), /*#__PURE__*/_jsxDEV(CRow, {\n              children: /*#__PURE__*/_jsxDEV(ProductList, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 15\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 13\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 11\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }, _this)\n  }, void 0, false);\n};\n\n_s(Home, \"6kIhz8ClXvzKZXWRc132q79oDdg=\");\n\n_c = Home;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    errors: state.product.errors,\n    loading: state.product.loading,\n    products: state.product.products,\n    refresh: state.product.refresh,\n    loaded: state.product.loaded\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    onGetProducts: function onGetProducts() {\n      return dispatch(productActions.getProducts());\n    },\n    onGetCompanies: function onGetCompanies() {\n      return dispatch(companyActions.getCompanies());\n    },\n    onRefreshUsageProducts: function onRefreshUsageProducts(products) {\n      return dispatch(productActions.refreshUsageProducts(products));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/Petito/ReactNativeProjects/GetirCase/src/views/dashboard/Home.js"],"names":["React","useEffect","useState","CContainer","CCol","CRow","CButtonGroup","CCard","CCardBody","FormControlLabel","RadioGroup","Radio","Button","ButtonGroup","Typography","productActions","companyActions","connect","ProductList","BrandCheckList","TagCheckList","linq","Home","props","isLoaded","setIsLoaded","products","setProducts","handleItemTypeChanged","event","text","newList","from","JSON","parse","localStorage","getItem","toArray","where","element","itemType","onRefreshUsageProducts","handleSortingChanged","orderBy","price","orderByDescending","added","onGetProducts","refresh","loaded","width","e","mapStateToProps","state","errors","product","loading","mapDispatchToProps","dispatch","getProducts","onGetCompanies","getCompanies","refreshUsageProducts"],"mappings":"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","sourcesContent":["/* eslint-disable array-callback-return */\r\nimport React, {useEffect, useState} from \"react\";\r\nimport { CContainer, CCol, CRow, CButtonGroup , CCard,CCardBody } from \"@coreui/react\";\r\nimport {FormControlLabel,RadioGroup,Radio,Button,ButtonGroup,Typography} from '@mui/material';\r\nimport * as productActions from \"../../store/actions/product.actions\";\r\nimport * as companyActions from \"../../store/actions/company.actions\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport ProductList from \"../../components/ProductList\";\r\nimport BrandCheckList from '../../components/BrandCheckList';\r\nimport TagCheckList from \"../../components/TagCheckList\";\r\nimport linq from 'linq';\r\n\r\nconst Home = (props) => {\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [products, setProducts] = useState([]);\r\n  \r\n  function handleItemTypeChanged (event, text) {\r\n    let newList = [];\r\n    if (text === \"all\") {\r\n      newList = linq.from(JSON.parse(localStorage.getItem(\"@products\"))).toArray();\r\n    } else {\r\n      newList = linq.from(JSON.parse(localStorage.getItem(\"@products\"))).where(element => element.itemType === text).toArray();\r\n    }\r\n    \r\n    props.onRefreshUsageProducts(newList);\r\n  }\r\n  function handleSortingChanged (event, text) {\r\n    //let storageProductList = [];\r\n    let newList = [];\r\n    if (text === \"lowtohigh\") {\r\n      newList = linq.from(products).orderBy(element => element.price).toArray();    \r\n    } else if (text === \"hightolow\") {\r\n      newList = linq.from(products).orderByDescending(element => element.price).toArray();\r\n    } else if (text === \"newtoold\") {\r\n      newList = linq.from(products).orderByDescending(element => element.added).toArray();\r\n    } else if (text === \"oldtonew\") {\r\n      newList = linq.from(products).orderBy(element => element.added).toArray();\r\n    }\r\n    props.onRefreshUsageProducts(newList);\r\n  }\r\n  \r\n  useEffect(() => {\r\n    if (!isLoaded) {\r\n      props.onGetProducts();\r\n      setIsLoaded(true);\r\n    }\r\n    if (props.refresh === true) {\r\n      setProducts(props.products);\r\n    }\r\n    if (props.loaded === true) {\r\n      setProducts(props.products);\r\n    }\r\n  }, [isLoaded, props])\r\n  return (\r\n    <>\r\n    <CContainer>\r\n      <CRow>\r\n        <CCol md=\"3\">\r\n          <CRow>\r\n            <Typography variant=\"h5\" component=\"h2\">\r\n              Sorting\r\n            </Typography>\r\n          </CRow>\r\n          <CRow>\r\n            <CCard style={{ width: '18rem' }}>\r\n                <CCardBody>\r\n                  <RadioGroup row aria-label=\"sorting\" name=\"row-radio-buttons-group\">\r\n                    <FormControlLabel id=\"lowtohigh\" onClick={(e) => handleSortingChanged(e, \"lowtohigh\")} value=\"lowtohigh\" control={<Radio color=\"secondary\" />} label=\"Price low to high\" />\r\n                    <FormControlLabel id=\"hightolow\" onClick={(e) => handleSortingChanged(e, \"hightolow\")} value=\"hightolow\" control={<Radio color=\"secondary\" />} label=\"Price high to low\" />\r\n                    <FormControlLabel id=\"newtoold\" onClick={(e) => handleSortingChanged(e, \"newtoold\")} value=\"newtoold\" control={<Radio color=\"secondary\" />} label=\"New to old\" />\r\n                    <FormControlLabel id=\"oldtonew\" onClick={(e) => handleSortingChanged(e, \"oldtonew\")} value=\"oldtonew\" control={<Radio color=\"secondary\" />} label=\"Old to new\" />\r\n                  </RadioGroup>\r\n                </CCardBody>\r\n            </CCard>\r\n          </CRow>\r\n          <CRow>\r\n            <Typography variant=\"h5\" component=\"h2\">\r\n              Brands\r\n            </Typography>\r\n          </CRow>\r\n          <CRow>\r\n            <CCard style={{ width: '18rem' }}>\r\n                <CCardBody>\r\n                  <BrandCheckList/>\r\n                </CCardBody>\r\n            </CCard>\r\n          </CRow>\r\n          <CRow>\r\n            <Typography variant=\"h5\" component=\"h2\">\r\n              Tags\r\n            </Typography>\r\n          </CRow>\r\n          <CRow>\r\n            <CCard style={{ width: '18rem' }}>\r\n                <CCardBody>\r\n                  <TagCheckList/>\r\n                </CCardBody>\r\n            </CCard>\r\n          </CRow>\r\n        </CCol>\r\n        <CCol lg=\"9\">\r\n          <CRow>\r\n            <CRow>\r\n              <CCol>\r\n                <CRow>\r\n                  <Typography variant=\"h4\" component=\"h2\">\r\n                    Products\r\n                  </Typography>\r\n                </CRow>\r\n                <CRow className=\"py-3 justify-content-between\">\r\n                  <CButtonGroup>\r\n                    <ButtonGroup variant=\"outlined\" color=\"secondary\" aria-label=\"outlined button group\">\r\n                      <Button onClick={(e) => handleItemTypeChanged(e, \"mug\")}>Mug</Button>\r\n                      <Button onClick={(e) => handleItemTypeChanged(e, \"shirt\")}>Shirt</Button>\r\n                      <Button onClick={(e) => handleItemTypeChanged(e, \"all\")}>All</Button>\r\n                    </ButtonGroup>\r\n                  </CButtonGroup> \r\n                </CRow>\r\n              </CCol>\r\n            </CRow>\r\n            <CRow>\r\n              <ProductList/>\r\n            </CRow>\r\n          </CRow>\r\n        </CCol>\r\n      </CRow>\r\n    </CContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    errors: state.product.errors,\r\n    loading: state.product.loading,\r\n    products: state.product.products,\r\n    refresh: state.product.refresh,\r\n    loaded: state.product.loaded,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onGetProducts: () => dispatch(productActions.getProducts()),\r\n    onGetCompanies: () => dispatch(companyActions.getCompanies()),\r\n    onRefreshUsageProducts: (products) => dispatch(productActions.refreshUsageProducts(products)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);\r\n"]},"metadata":{},"sourceType":"module"}